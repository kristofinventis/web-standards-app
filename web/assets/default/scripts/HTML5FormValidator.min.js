!function(){function e(e,r){this.element=e,this.options=t({},s,r),this.isValid=!1,r&&r.messages&&(this.options.messages=t({},s.messages,r.messages)),this.init()}var t=function(){var e={},r=!1,s=0,i=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(r=arguments[0],s++);for(;s<i;s++)!function(s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r&&"[object Object]"===Object.prototype.toString.call(s[i])?e[i]=t(!0,e[i],s[i]):e[i]=s[i])}(arguments[s]);return e};Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),r=t.length;--r>=0&&t.item(r)!==this;);return r>-1});var r=function(e,t){for(;(e=e.parentElement)&&!(e.matches||e.matchesSelector).call(e,t););return e},s={fieldParentSelector:".form__entry",groupParentSelector:".form__fieldset",errorMessageClass:"form__message",showSuccess:!1,successMessageClass:"form__success",messages:{required:"This field is required",requiredSelect:"An option must be selected",requiredCheckbox:"This field is required",requiredCheckboxgroup:"At least one option must be selected",requiredRadiogroup:"An option must be selected",password:"Must have 1 lower- and uppercase letter, 1 number and 1 symbol",minlength:"The minimum length of this field is not met",maxlength:"The content of this field is too long",email:"This is not an email address",tel:"This is not an phone number",min:"The number must be at least %1$s or larger",max:"The number must be %1$s or smaller"}};e.prototype.init=function(){var e=this.checkIfElementIsRequired(this.element),t=this.getValidationRuleOfElement(this.element),r=this.validate(this.element,t);if(r)return this.showError(this.element,r),void(this.options.showSuccess&&e&&this.hideSuccess(this.element));this.hideError(this.element),this.options.showSuccess&&e&&this.showSuccess(this.element),this.isValid=!0},e.prototype.getValidationRuleOfElement=function(e){return e.matches("input:not([type=checkbox])[required]:enabled, textarea[required]:enabled")&&this.validate(e,"required")?"required":e.matches("select[required]")&&this.validate(e,"requiredSelect")?"requiredSelect":e.matches("input[type=checkbox]:not([data-group])[required]:enabled")&&this.validate(e,"requiredCheckbox")?"requiredCheckbox":e.matches("fieldset[required]:enabled input[type=checkbox]")&&this.validate(e,"requiredCheckboxgroup")?"requiredCheckboxgroup":e.matches("fieldset[required]:enabled input[type=radio]")&&this.validate(e,"requiredRadiogroup")?"requiredRadiogroup":e.matches("input[type=password]:enabled")&&this.validate(e,"password")?"password":e.matches("input[minlength]:enabled")&&this.validate(e,"minlength")?"minlength":e.matches("input[maxlength]:enabled")&&this.validate(e,"maxlength")?"maxlength":e.matches("input[type=email]:enabled")&&this.validate(e,"email")?"email":e.matches("input[type=tel]:enabled")&&this.validate(e,"tel")?"tel":e.matches("input[type=min]:enabled")&&this.validate(e,"min")?"min":!(!e.matches("input[type=max]:enabled")||!this.validate(e,"max"))&&"max"},e.prototype.checkIfElementIsRequired=function(e){return!!e.matches("input[required]:enabled, textarea[required]:enabled, select[required]")||!!e.matches("fieldset[required]:enabled input")},e.prototype.validate=function(e,t){if(t){if(this.validators[t])return this.validators[t](e,t)?void 0:t;console.log('validator "'+t+'" not found!')}},e.prototype.validators={required:function(e){return!!e.value},requiredSelect:function(e){return 0!==e.selectedIndex},requiredCheckbox:function(e){return!!e.checked},requiredCheckboxgroup:function(e){for(var t=e.dataset.group,r=document.querySelectorAll("[data-group="+t+"]"),s=!1,i=0;i<r.length;i++)if(r[i].checked){s=!0;break}return s},requiredRadiogroup:function(e){for(var t=e.name,r=document.querySelectorAll("[name="+t+"]"),s=!1,i=0;i<r.length;i++)if(r[i].checked){s=!0;break}return s},password:function(e){if(!e.required&&0==e.value.length)return!0;var t=/[a-z]/.test(e.value),r=/[A-Z]/.test(e.value),s=/\d/.test(e.value),i=/[-@#§£!"$€%^&*()_+|~=`{}\[\]:";'<>?,.\/]/.test(e.value);return!!(t&&r&&s&&i)},minlength:function(e,arguments){return arguments.length>1&&arguments[1]<=e.value.length||e.getAttribute("minlength")<=e.value.length},maxlength:function(e,arguments){return arguments.length>1&&arguments[1]>e.value.length||e.getAttribute("maxlength")>e.value.length},email:function(e){return/^([\w-\.\+]+@([\w-]+\.)+[\w-]{2,4})?$/.test(e.value)},tel:function(e){if(0==e.value.length)return!0;return/^[\+]?[\d]{9,13}$/.test(e.value)},min:function(e,arguments){return parseInt(e.getAttribute("min"))<=parseInt(e.value)},max:function(e,arguments){return parseInt(e.getAttribute("max"))>=parseInt(e.value)}},e.prototype.showError=function(e,t){var s,i,n=this.options.messages[t];i=(s="requiredCheckboxgroup"===t||"requiredRadiogroup"===t?r(e,this.options.groupParentSelector):r(e,this.options.fieldParentSelector)).querySelector("."+this.options.errorMessageClass),-1!=n.search("%1")&&(n=n.replace("%1$s",e.getAttribute(t))),n&&(s.classList.add("-invalid"),i||((i=document.createElement("span")).className=this.options.errorMessageClass,s.appendChild(i)),i.innerHTML=n)},e.prototype.hideError=function(e){var t,s;t=e.matches("fieldset[required]:enabled input")?r(e,this.options.groupParentSelector):r(e,this.options.fieldParentSelector),(s=t.querySelector("."+this.options.errorMessageClass))&&(s.classList.add("-hide"),setTimeout(function(){t.removeChild(s)},710),t.classList.remove("-invalid"))},e.prototype.showSuccess=function(e){var t,s;s=(t=e.matches("fieldset[required]:enabled input")?r(e,this.options.groupParentSelector):r(e,this.options.fieldParentSelector)).querySelector("."+this.options.successMessageClass),t.classList.add("-success"),s||((s=document.createElement("span")).className=this.options.successMessageClass,t.appendChild(s))},e.prototype.hideSuccess=function(e){var t,s;t=e.matches("fieldset[required]:enabled input")?r(e,this.options.groupParentSelector):r(e,this.options.fieldParentSelector),(s=t.querySelector("."+this.options.successMessageClass))&&(s.classList.add("-hide"),setTimeout(function(){t.removeChild(s)},710),t.classList.remove("-success"))},window.HTML5FormValidator=e}();