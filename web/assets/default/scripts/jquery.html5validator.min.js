!function(t,r,n,s){function a(e,i){this.element=e,this.options=t.extend({},l,i),i&&i.messages&&(this.options.messages=t.extend({},l.messages,i.messages)),this._defaults=l,this._name=o,this.isValid=!1,this.validationErrors=[],this.errorElements=[],this.validators=t.extend({},this.validators,this.options.customValidators),this.init()}var o="html5validator",l={disableBrowserValidation:!0,disableAutoValidation:!1,liveValidation:!0,messages:{required:"This field is required",requiredCheckbox:"This field is required",minlength:"The minimum length of this field is not met",maxlength:"The content of this field is too long",email:"This is not an email address",tel:"This is not an phone number",min:"The number must be at least %1$s or larger",max:"The number must be %1$s or smaller"},customValidators:{},fieldParentSelector:".form__entry",errorMessageClass:"form__message"};a.prototype.init=function(){this.options.disableBrowserValidation&&(this.element.noValidate=!0),this.options.liveValidation&&t("input, select").on("blur",function(e){var i=this.getFailedValidationRuleForElement(e.target);i?this.showError(t(e.target),i):this.hideError(t(e.target))}.bind(this)),t(this.element).submit(t.proxy(this.onFormSubmit,this))},a.prototype.getFailedValidationRuleForElement=function(e){var r=t(e);if(this.options.fields)for(field in this.options.fields)if(r.is("[name="+field+"]")){var n=this.options.fields[field].split("|");for(i in n)if(!0!==this.validate(n[i],r))return this.validate(n[i],r)}if(!this.options.disableAutoValidation){if(r.is("input[type!=checkbox][required]:enabled, textarea[required]:enabled, select[required]")&&!0!==this.validate("required",r))return"required";if(r.is("input[type=checkbox][required]:enabled, input[type=radio][required]:enabled")&&!0!==this.validate("requiredCheckbox",r))return"requiredCheckbox";if(r.is("input[minlength]:enabled")&&!0!==this.validate("minlength",r))return"minlength";if(r.is("input[maxlength]:enabled")&&!0!==this.validate("maxlength",r))return"maxlength";if(r.is("input[type=email]:enabled")&&!0!==this.validate("email",r))return"email";if(r.is("input[type=tel]:enabled")&&!0!==this.validate("tel",r))return"tel";if(r.is("input[type=min]:enabled")&&!0!==this.validate("min",r))return"min";if(r.is("input[type=max]:enabled")&&!0!==this.validate("max",r))return"max"}return!1},a.prototype.onFormSubmit=function(){return this.isValid=!1,this.visibleErrors=[],this.validationErrors=[],this.hideErrors(),t("input, select").each(function(i,r){var n=this.getFailedValidationRuleForElement(e.target);n?this.showError(t(r),n):this.hideError(t(r))}.bind(this)),this.validationErrors.length>0?(t(this.element).trigger("failed"),this.validationErrors[0].element.focus(),!1):"function"!=typeof this.options.success||this.options.success()},a.prototype.validate=function(e,r){var n;return 0!=r.length&&(validatorRule=e.split(":")[0],this.validators[e]?r.each(t.proxy(function(t,i){this.validators[validatorRule](i,e.split(":"))||(n=validatorRule)},this)):console.log('validator "'+rules[i]+'" not found!'),n||!0)},a.prototype.validators={required:function(e){return!!t(e).val()},requiredCheckbox:function(e){var i=t(e).data("group"),r=!0;return!(!e.checked&&void 0===i)&&(void 0!==i&&(r=!1,t('input[data-group="'+i+'"]').each(function(t,e){e.checked&&(r=!0)})),r)},minlength:function(e,arguments){return arguments.length>1&&arguments[1]<=t(e).val().length||t(e).attr("minlength")<=t(e).val().length},maxlength:function(e,arguments){return arguments.length>1&&arguments[1]>t(e).val().length||t(e).attr("maxlength")>t(e).val().length},email:function(e){return/^([\w-\.\+]+@([\w-]+\.)+[\w-]{2,4})?$/.test(t(e).val())},tel:function(e){if(0==t(e).val().length)return!0;return/^[\+]?[\d]{9,13}$/.test(t(e).val())},min:function(e,arguments){return parseInt(t(e).attr("min"))<=parseInt(t(e).val())},max:function(e,arguments){return parseInt(t(e).attr("max"))>=parseInt(t(e).val())}},a.prototype.showError=function(e,i){var r=this.options.messages[i];if(e.data(i+"-error")&&(r=e.data(i+"-error")),-1!=r.search("%1")&&(r=r.replace("%1$s",e.attr(i))),"function"==typeof this.options.showError)return this.options.showError(e,i,r);var n=e.parents(this.options.fieldParentSelector).first(),s=n.children("."+this.options.errorMessageClass);n.addClass("-invalid"),r&&(s.length?s.text(r):(s=t("<span />").addClass(this.options.errorMessageClass).text(r),n.append(s)))},a.prototype.hideError=function(e){var i=e.parents(this.options.fieldParentSelector).first(),r=t("."+this.options.errorMessageClass,i);r.addClass("-hide"),setTimeout(function(){r.remove()},710),i.removeClass("-invalid")},t.fn[o]=function(e){return this.each(function(){t.data(this,"plugin_"+o)||t.data(this,"plugin_"+o,new a(this,e))})}}(jQuery,window,document);